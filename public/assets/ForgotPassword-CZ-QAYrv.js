import{_ as m,c as r,b as s,k as u,i as c,d as f,g as p,e as l,v as b,n as g,t as n,f as y,w as h,r as w,o as a}from"./index-DJ3wMxlh.js";const k={name:"ForgotPassword",data(){return{emailSent:!1,loading:!1,resendCooldown:0,form:{email:""},errors:{}}},methods:{validateForm(){return this.errors={},this.form.email?/\S+@\S+\.\S+/.test(this.form.email)||(this.errors.email="Format d'email invalide"):this.errors.email="L'adresse email est requise",Object.keys(this.errors).length===0},async sendResetEmail(){if(this.validateForm()){this.loading=!0,this.errors={};try{await new Promise(i=>setTimeout(i,2e3)),this.emailSent=!0,this.startResendCooldown()}catch(i){this.errors.general="Erreur lors de l'envoi de l'email. Veuillez réessayer.",console.error("Erreur:",i)}finally{this.loading=!1}}},async resendEmail(){if(!(this.resendCooldown>0))try{await new Promise(i=>setTimeout(i,1e3)),this.startResendCooldown()}catch(i){console.error("Erreur lors du renvoi:",i)}},startResendCooldown(){this.resendCooldown=60;const i=setInterval(()=>{this.resendCooldown--,this.resendCooldown<=0&&clearInterval(i)},1e3)}}},C={class:"forgot-password-container"},E={class:"forgot-password-card"},z={key:0,class:"forgot-form"},V={class:"form-group"},_={key:0,class:"error-message"},R=["disabled"],S={key:0,class:"fas fa-spinner fa-spin"},x={key:1,class:"fas fa-paper-plane"},q={key:0,class:"error-banner"},N={key:1,class:"success-state"},F={class:"resend-section"},P=["disabled"],I={class:"auth-footer"};function T(i,e,B,L,o,d){const v=w("router-link");return a(),r("div",C,[s("div",E,[e[14]||(e[14]=s("div",{class:"auth-header"},[s("div",{class:"logo"},[s("i",{class:"fas fa-lightbulb"}),s("h1",null,"IdéaLab")]),s("p",null,"Récupération de mot de passe")],-1)),o.emailSent?(a(),r("div",N,[e[9]||(e[9]=s("div",{class:"success-icon"},[s("i",{class:"fas fa-check-circle"})],-1)),e[10]||(e[10]=s("h2",null,"Email envoyé !",-1)),s("p",null,[e[6]||(e[6]=l(" Nous avons envoyé un lien de réinitialisation à ")),s("strong",null,n(o.form.email),1)]),e[11]||(e[11]=u('<div class="success-instructions" data-v-bd73f1c9><h3 data-v-bd73f1c9>Étapes suivantes :</h3><ol data-v-bd73f1c9><li data-v-bd73f1c9>Vérifiez votre boîte de réception</li><li data-v-bd73f1c9>Cliquez sur le lien dans l&#39;email</li><li data-v-bd73f1c9>Créez un nouveau mot de passe</li><li data-v-bd73f1c9>Connectez-vous avec votre nouveau mot de passe</li></ol></div><div class="email-tips" data-v-bd73f1c9><h4 data-v-bd73f1c9>Vous ne voyez pas l&#39;email ?</h4><ul data-v-bd73f1c9><li data-v-bd73f1c9>Vérifiez votre dossier spam/courrier indésirable</li><li data-v-bd73f1c9>Assurez-vous que l&#39;adresse email est correcte</li><li data-v-bd73f1c9>L&#39;email peut prendre quelques minutes à arriver</li></ul></div>',2)),s("div",F,[e[8]||(e[8]=s("p",null,"Vous n'avez pas reçu l'email ?",-1)),s("button",{onClick:e[2]||(e[2]=(...t)=>d.resendEmail&&d.resendEmail(...t)),class:"btn btn-secondary",disabled:o.resendCooldown>0},[e[7]||(e[7]=s("i",{class:"fas fa-redo"},null,-1)),l(" "+n(o.resendCooldown>0?`Renvoyer dans ${o.resendCooldown}s`:"Renvoyer l'email"),1)],8,P)])])):(a(),r("div",z,[e[5]||(e[5]=s("div",{class:"form-intro"},[s("div",{class:"intro-icon"},[s("i",{class:"fas fa-key"})]),s("h2",null,"Mot de passe oublié ?"),s("p",null," Pas de problème ! Entrez votre adresse email et nous vous enverrons un lien pour réinitialiser votre mot de passe. ")],-1)),s("form",{onSubmit:e[1]||(e[1]=c((...t)=>d.sendResetEmail&&d.sendResetEmail(...t),["prevent"])),class:"reset-form"},[s("div",V,[e[3]||(e[3]=s("label",{for:"email"},[s("i",{class:"fas fa-envelope"}),l(" Adresse email ")],-1)),p(s("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>o.form.email=t),class:g({error:o.errors.email}),placeholder:"votre@email.com",required:""},null,2),[[b,o.form.email]]),o.errors.email?(a(),r("span",_,n(o.errors.email),1)):f("",!0)]),s("button",{type:"submit",class:"btn btn-primary",disabled:o.loading},[o.loading?(a(),r("i",S)):(a(),r("i",x)),l(" "+n(o.loading?"Envoi en cours...":"Envoyer le lien de réinitialisation"),1)],8,R),o.errors.general?(a(),r("div",q,[e[4]||(e[4]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),l(" "+n(o.errors.general),1)])):f("",!0)],32)])),s("div",I,[e[13]||(e[13]=s("p",null,"Vous vous souvenez de votre mot de passe ?",-1)),y(v,{to:"/login",class:"link-secondary"},{default:h(()=>e[12]||(e[12]=[s("i",{class:"fas fa-sign-in-alt"},null,-1),l(" Retour à la connexion ")])),_:1,__:[12]})])]),e[15]||(e[15]=u('<div class="auth-background" data-v-bd73f1c9><div class="floating-icons" data-v-bd73f1c9><i class="fas fa-key" data-v-bd73f1c9></i><i class="fas fa-shield-alt" data-v-bd73f1c9></i><i class="fas fa-lock" data-v-bd73f1c9></i><i class="fas fa-envelope" data-v-bd73f1c9></i><i class="fas fa-user-shield" data-v-bd73f1c9></i></div></div>',1))])}const A=m(k,[["render",T],["__scopeId","data-v-bd73f1c9"]]);export{A as default};
