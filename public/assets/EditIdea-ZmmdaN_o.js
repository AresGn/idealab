import{_ as h,c as i,b as s,d as u,f as c,w as v,e as l,r as y,t as a,i as b,g as d,v as p,n as g,j as w,k,o}from"./index-DJ3wMxlh.js";const A={name:"EditIdea",data(){return{loading:!0,saving:!1,deleting:!1,error:null,showDeleteModal:!1,form:{title:"",sector:"",description:"",targetAudience:"",estimatedBudget:"",willingness_to_pay:""},errors:{}}},methods:{async loadIdea(){try{this.loading=!0;const n=this.$route.params.id;await new Promise(e=>setTimeout(e,1e3)),this.form={title:"Application de covoiturage rural",sector:"Transport",description:"Une application mobile innovante qui permet aux habitants des zones rurales de partager des trajets vers les villes. L'application utilise une interface simple et intuitive, adaptée aux utilisateurs ayant des compétences numériques limitées.",targetAudience:"Habitants des zones rurales, travailleurs urbains originaires des villages",estimatedBudget:"50000",willingness_to_pay:"Abonnement mensuel de 5000 FCFA"}}catch(n){this.error="Impossible de charger l'idée",console.error("Erreur:",n)}finally{this.loading=!1}},validateForm(){return this.errors={},this.form.title.trim()?this.form.title.length<10&&(this.errors.title="Le titre doit contenir au moins 10 caractères"):this.errors.title="Le titre est requis",this.form.sector||(this.errors.sector="Le secteur est requis"),this.form.description.trim()?this.form.description.length<50?this.errors.description="La description doit contenir au moins 50 caractères":this.form.description.length>2e3&&(this.errors.description="La description ne peut pas dépasser 2000 caractères"):this.errors.description="La description est requise",Object.keys(this.errors).length===0},async updateIdea(){if(this.validateForm()){this.saving=!0,this.errors={};try{await new Promise(n=>setTimeout(n,1500)),this.$router.push({path:"/dashboard",query:{message:"Idée mise à jour avec succès"}})}catch(n){this.errors.general="Erreur lors de la sauvegarde. Veuillez réessayer.",console.error("Erreur:",n)}finally{this.saving=!1}}},async deleteIdea(){this.deleting=!0;try{await new Promise(n=>setTimeout(n,1e3)),this.$router.push({path:"/dashboard",query:{message:"Idée supprimée avec succès"}})}catch(n){console.error("Erreur lors de la suppression:",n),this.showDeleteModal=!1}finally{this.deleting=!1}}},mounted(){this.loadIdea()}},x={class:"edit-idea-container"},C={class:"edit-header"},I={class:"breadcrumb"},_={key:0,class:"loading-state"},S={key:1,class:"error-state"},M={class:"form-section"},T={class:"form-group"},q={key:0,class:"error-message"},D={class:"form-group"},V={key:0,class:"error-message"},B={class:"form-group"},E={class:"character-count"},P={key:0,class:"error-message"},z={class:"form-section"},F={class:"form-group"},U={class:"form-group"},L={class:"form-group"},N={class:"form-actions"},j=["disabled"],H={key:0,class:"fas fa-spinner fa-spin"},O={key:1,class:"fas fa-save"},Q={key:0,class:"error-banner"},R={class:"modal-body"},G={class:"modal-actions"},J=["disabled"],K={key:0,class:"fas fa-spinner fa-spin"},W={key:1,class:"fas fa-trash"};function X(n,e,Y,Z,t,f){const m=y("router-link");return o(),i("div",x,[s("div",C,[s("div",I,[c(m,{to:"/dashboard"},{default:v(()=>e[12]||(e[12]=[s("i",{class:"fas fa-chart-line"},null,-1),l(" Dashboard ")])),_:1,__:[12]}),e[13]||(e[13]=s("i",{class:"fas fa-chevron-right"},null,-1)),e[14]||(e[14]=s("span",null,"Modifier l'idée",-1))]),e[15]||(e[15]=s("h1",null,[s("i",{class:"fas fa-edit"}),l(" Modifier votre idée ")],-1)),e[16]||(e[16]=s("p",null,"Améliorez et peaufinez votre proposition",-1))]),t.loading?(o(),i("div",_,e[17]||(e[17]=[s("div",{class:"loading-spinner"},[s("i",{class:"fas fa-spinner fa-spin"})],-1),s("p",null,"Chargement de l'idée...",-1)]))):t.error?(o(),i("div",S,[e[19]||(e[19]=s("div",{class:"error-icon"},[s("i",{class:"fas fa-exclamation-triangle"})],-1)),e[20]||(e[20]=s("h2",null,"Erreur",-1)),s("p",null,a(t.error),1),c(m,{to:"/dashboard",class:"btn btn-primary"},{default:v(()=>e[18]||(e[18]=[s("i",{class:"fas fa-arrow-left"},null,-1),l(" Retour au dashboard ")])),_:1,__:[18]})])):(o(),i("form",{key:2,onSubmit:e[7]||(e[7]=b((...r)=>f.updateIdea&&f.updateIdea(...r),["prevent"])),class:"edit-form"},[s("div",M,[e[25]||(e[25]=s("h2",null,[s("i",{class:"fas fa-lightbulb"}),l(" Informations principales ")],-1)),s("div",T,[e[21]||(e[21]=s("label",{for:"title"},"Titre de l'idée *",-1)),d(s("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=r=>t.form.title=r),class:g({error:t.errors.title}),placeholder:"Un titre accrocheur pour votre idée",required:""},null,2),[[p,t.form.title]]),t.errors.title?(o(),i("span",q,a(t.errors.title),1)):u("",!0)]),s("div",D,[e[23]||(e[23]=s("label",{for:"sector"},"Secteur d'activité *",-1)),d(s("select",{id:"sector","onUpdate:modelValue":e[1]||(e[1]=r=>t.form.sector=r),class:g({error:t.errors.sector}),required:""},e[22]||(e[22]=[k('<option value="" data-v-cfc4987b>Sélectionnez un secteur</option><option value="Agriculture" data-v-cfc4987b>Agriculture</option><option value="Éducation" data-v-cfc4987b>Éducation</option><option value="Santé" data-v-cfc4987b>Santé</option><option value="Transport" data-v-cfc4987b>Transport</option><option value="Finance" data-v-cfc4987b>Finance</option><option value="Énergie" data-v-cfc4987b>Énergie</option><option value="Commerce" data-v-cfc4987b>Commerce</option><option value="Technologie" data-v-cfc4987b>Technologie</option><option value="Environnement" data-v-cfc4987b>Environnement</option><option value="Philanthropie" data-v-cfc4987b>Philanthropie</option><option value="Autre" data-v-cfc4987b>Autre</option>',12)]),2),[[w,t.form.sector]]),t.errors.sector?(o(),i("span",V,a(t.errors.sector),1)):u("",!0)]),s("div",B,[e[24]||(e[24]=s("label",{for:"description"},"Description détaillée *",-1)),d(s("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=r=>t.form.description=r),class:g({error:t.errors.description}),rows:"6",placeholder:"Décrivez votre idée en détail : le problème qu'elle résout, comment elle fonctionne, ses avantages...",required:""},null,2),[[p,t.form.description]]),s("div",E,a(t.form.description.length)+"/2000 caractères ",1),t.errors.description?(o(),i("span",P,a(t.errors.description),1)):u("",!0)])]),s("div",z,[e[29]||(e[29]=s("h2",null,[s("i",{class:"fas fa-users"}),l(" Marché et audience ")],-1)),s("div",F,[e[26]||(e[26]=s("label",{for:"targetAudience"},"Public cible",-1)),d(s("textarea",{id:"targetAudience","onUpdate:modelValue":e[3]||(e[3]=r=>t.form.targetAudience=r),rows:"3",placeholder:"Qui sont vos utilisateurs potentiels ? (ex: agriculteurs, étudiants, PME...)"},null,512),[[p,t.form.targetAudience]])]),s("div",U,[e[27]||(e[27]=s("label",{for:"estimatedBudget"},"Budget estimé (FCFA)",-1)),d(s("input",{type:"number",id:"estimatedBudget","onUpdate:modelValue":e[4]||(e[4]=r=>t.form.estimatedBudget=r),placeholder:"Budget nécessaire pour développer l'idée",min:"0"},null,512),[[p,t.form.estimatedBudget]])]),s("div",L,[e[28]||(e[28]=s("label",{for:"willingnessToPayy"},"Disposition à payer",-1)),d(s("textarea",{id:"willingnessToPayy","onUpdate:modelValue":e[5]||(e[5]=r=>t.form.willingness_to_pay=r),rows:"2",placeholder:"Comment les utilisateurs seraient-ils prêts à payer ? (abonnement, achat unique, freemium...)"},null,512),[[p,t.form.willingness_to_pay]])])]),s("div",N,[s("button",{type:"submit",class:"btn btn-primary",disabled:t.saving},[t.saving?(o(),i("i",H)):(o(),i("i",O)),l(" "+a(t.saving?"Sauvegarde...":"Sauvegarder les modifications"),1)],8,j),c(m,{to:"/dashboard",class:"btn btn-secondary"},{default:v(()=>e[30]||(e[30]=[s("i",{class:"fas fa-times"},null,-1),l(" Annuler ")])),_:1,__:[30]}),s("button",{type:"button",class:"btn btn-danger",onClick:e[6]||(e[6]=r=>t.showDeleteModal=!0)},e[31]||(e[31]=[s("i",{class:"fas fa-trash"},null,-1),l(" Supprimer l'idée ")]))]),t.errors.general?(o(),i("div",Q,[e[32]||(e[32]=s("i",{class:"fas fa-exclamation-triangle"},null,-1)),l(" "+a(t.errors.general),1)])):u("",!0)],32)),t.showDeleteModal?(o(),i("div",{key:3,class:"modal-overlay",onClick:e[11]||(e[11]=r=>t.showDeleteModal=!1)},[s("div",{class:"modal-content",onClick:e[10]||(e[10]=b(()=>{},["stop"]))},[e[34]||(e[34]=s("div",{class:"modal-header"},[s("h3",null,[s("i",{class:"fas fa-exclamation-triangle"}),l(" Supprimer l'idée ")])],-1)),s("div",R,[e[33]||(e[33]=s("p",null,"Êtes-vous sûr de vouloir supprimer cette idée ? Cette action est irréversible.",-1)),s("p",null,[s("strong",null,a(t.form.title),1)])]),s("div",G,[s("button",{class:"btn btn-secondary",onClick:e[8]||(e[8]=r=>t.showDeleteModal=!1)}," Annuler "),s("button",{class:"btn btn-danger",onClick:e[9]||(e[9]=(...r)=>f.deleteIdea&&f.deleteIdea(...r)),disabled:t.deleting},[t.deleting?(o(),i("i",K)):(o(),i("i",W)),l(" "+a(t.deleting?"Suppression...":"Supprimer définitivement"),1)],8,J)])])])):u("",!0)])}const ee=h(A,[["render",X],["__scopeId","data-v-cfc4987b"]]);export{ee as default};
